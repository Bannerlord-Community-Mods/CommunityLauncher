<Prefab>
  <Constants>
    <Constant Name="Popup.CloseButton.Width" BrushName="Popup.CloseButton" BrushLayer="Default" BrushValueType="Width"/>
    <Constant Name="Popup.CloseButton.Height" BrushName="Popup.CloseButton" BrushLayer="Default" BrushValueType="Height"/>
  </Constants>
  <VisualDefinitions>
  </VisualDefinitions>
  <Window>
    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Brush.Color="#000000CC">
      <Children>

        <!--Done Button-->
        <Standard.PopupCloseButton HorizontalAlignment="Center" VerticalAlignment="Top" MarginTop="790" Command.Click="ExecuteDone" Parameter.ButtonText="@DoneText" />

        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="912" SuggestedHeight="555" HorizontalAlignment="Center" VerticalAlignment="Center" MarginBottom="6" Brush="Recruitment.Frame" DoNotAcceptEvents="true">
          <Children>

            <ListPanel HeightSizePolicy ="StretchToParent"  WidthSizePolicy="StretchToParent" MarginTop="20" MarginBottom="20" MarginRight="18" MarginLeft="20">
              <Children>

                <ListPanel HeightSizePolicy ="StretchToParent"  WidthSizePolicy="StretchToParent" LayoutImp.LayoutMethod="VerticalBottomToTop">
                  <Children>

                    <ListPanel DataSource="{SortController}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren">
                      <Children>

                        <SortButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="65" SuggestedHeight="30" Brush="Kingdom.Clans.Sort.1" Command.Click="ExecuteSortByPlacement" IsSelected="@IsPlacementSelected" SortState="@PlacementState" SortVisualWidget="TextWidget\TypeSortVisualWidget" UpdateChildrenStates="true">
                          <Children>
                            <TextWidget Id="TextWidget" DataSource="{..}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Kingdom.SortButtons.Text" ClipContents="false" Text="#">
                              <Children>
                                <Widget Id="TypeSortVisualWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="20" SuggestedHeight="20" HorizontalAlignment="Right" VerticalAlignment="Center" PositionXOffset="20" Brush="ArmyManagement.Sort.ArrowBrush" />
                              </Children>
                            </TextWidget>
                          </Children>
                        </SortButtonWidget>

                        <SortButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" Brush="Kingdom.Clans.Sort.2" Command.Click="ExecuteSortByName" IsSelected="@IsNameSelected" SortState="@NameState" SortVisualWidget="TextWidget\NameSortVisualWidget" UpdateChildrenStates="true">
                          <Children>
                            <TextWidget Id="TextWidget" DataSource="{..}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Kingdom.SortButtons.Text" ClipContents="false" Text="NAME">
                              <Children>
                                <Widget Id="NameSortVisualWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="20" SuggestedHeight="20" HorizontalAlignment="Right" VerticalAlignment="Center" PositionXOffset="20" Brush="ArmyManagement.Sort.ArrowBrush" />
                              </Children>
                            </TextWidget>
                          </Children>
                        </SortButtonWidget>
                        
                        <ButtonWidget DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedWidth="100" SuggestedHeight="30" Brush="Kingdom.Clans.Sort.5">
                          <Children>
                            <TextWidget DataSource="{..}" DoNotAcceptEvents="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Kingdom.SortButtons.Text" Text="TYPE" />
                          </Children>
                        </ButtonWidget>

                        <SortButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedWidth="135" SuggestedHeight="30" Brush="Kingdom.Clans.Sort.3" Command.Click="ExecuteSortByPrize" IsSelected="@IsPrizeSelected" SortState="@PrizeState" SortVisualWidget="TextWidget\NameSortVisualWidget" UpdateChildrenStates="true">
                          <Children>
                            <TextWidget Id="TextWidget" DataSource="{..}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Kingdom.SortButtons.Text" ClipContents="false" Text="PRIZE">
                              <Children>
                                <Widget Id="NameSortVisualWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="20" SuggestedHeight="20" HorizontalAlignment="Right" VerticalAlignment="Center" PositionXOffset="20" Brush="ArmyManagement.Sort.ArrowBrush" />
                              </Children>
                            </TextWidget>
                          </Children>
                        </SortButtonWidget>

                      </Children>
                    </ListPanel>

                    <ScrollablePanel Id="EntriesListScrollablePanel"  HeightSizePolicy ="StretchToParent"  WidthSizePolicy="StretchToParent" InnerPanel="EntriesListRect\EntriesList" ClipRect="EntriesListRect" MouseScrollAxis="Vertical" VerticalScrollbar="..\..\EntriesListScrollbar\Scrollbar" MarginLeft="15" AutoHideScrollBars="false">
                      <Children>

                        <Widget Id="EntriesListRect" WidthSizePolicy = "StretchToParent" HeightSizePolicy = "StretchToParent" ClipContents="true">
                          <Children>

                            <ListPanel Id="EntriesList" DataSource = "{Entries}" WidthSizePolicy = "StretchToParent" HeightSizePolicy="CoverChildren" LayoutImp.LayoutMethod = "VerticalBottomToTop" MarginTop="2" MarginLeft="16">
                              <ItemTemplate>

                                <!--Leaderboard Entry Tuple-->
                                <ListPanel WidthSizePolicy = "StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="50">
                                  <Children>

                                    <Widget WidthSizePolicy = "Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="5" />

                                    <TextWidget WidthSizePolicy = "Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="30" IntText="@PlacementOnLeaderboard" MarginRight="5" Brush.TextHorizontalAlignment="Left"/>

                                    <ImageIdentifierWidget DataSource="{Banner}" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" HorizontalAlignment="Center" VerticalAlignment="Center" AdditionalArgs="@AdditionalArgs" ImageId="@Id" ImageTypeCode="@ImageTypeCode" MaterialAlphaFactor="0.8">
                                      <Children>
                                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="48" SuggestedHeight="48" HorizontalAlignment="Center" VerticalAlignment="Center" Sprite="clan_frame_small_9" />
                                      </Children>
                                    </ImageIdentifierWidget>

                                    <RichTextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@NameWithRank" Command.LinkAlternateClick="ExecuteNameLink" Command.LinkClick="ExecuteNameLink" Brush="GameMenu.Leaderboard.Entry.Name.Text" MarginLeft="10" IsHidden="@IsMainHero"/>
                                    <RichTextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@NameWithRank" Command.LinkAlternateClick="ExecuteNameLink" Command.LinkClick="ExecuteNameLink" Brush="GameMenu.Leaderboard.Entry.Name.Player.Text" IsVisible="@IsMainHero" MarginLeft="10"/>

                                    <Widget WidthSizePolicy = "Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="5" />
                                    <TextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@Description" IsHidden="@IsMainHero"/>
                                    <TextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@Description" Brush.FontColor="#8CDBC4FF" IsVisible="@IsMainHero"/>
                                    <Widget WidthSizePolicy = "Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="5" />
                                    <TextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@PrizeStr" IsHidden="@IsMainHero"/>
                                    <TextWidget WidthSizePolicy = "StretchToParent" HeightSizePolicy="StretchToParent" SuggestedWidth="100" Text="@PrizeStr" Brush.FontColor="#8CDBC4FF" IsVisible="@IsMainHero"/>
                                    <Widget WidthSizePolicy = "Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="5" />

                                  </Children>
                                </ListPanel>
                              </ItemTemplate>
                            </ListPanel>

                          </Children>
                        </Widget>

                      </Children>
                    </ScrollablePanel>
                  </Children>
                </ListPanel>
                <Standard.VerticalScrollbar Id="EntriesListScrollbar" HorizontalAlignment="Right" VerticalAlignment="Bottom" HeightSizePolicy ="StretchToParent"/>

              </Children>
            </ListPanel>

            <!--Frame-->
            <!--<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="25" MarginRight="25" MarginTop="21" MarginBottom="32" Brush="Frame1.Border" IsEnabled="false" />-->

          </Children>
        </Widget>

      </Children>
    </Widget>
  </Window>
</Prefab>